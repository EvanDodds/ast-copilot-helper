#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Pre-push validation: comprehensive testing before sharing
echo "🚀 Running pre-push validation (comprehensive checks)..."
echo "⏱️  This may take 2-3 minutes (use 'yarn run test:all' for full testing)"

# Build check (ensure everything compiles)
echo "🔧 Building project..."
yarn run build || exit 1

# Comprehensive fast tests (all non-performance tests)
echo "🧪 Running comprehensive fast tests (unit + integration)..."
yarn run test:prepush || exit 1

echo "✅ Pre-push validation completed successfully!"
echo "💡 For full testing including all benchmarks: yarn run test:all"