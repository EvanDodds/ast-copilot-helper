#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ðŸš€ Running pre-push hooks..."

# Run unit tests and integrations (skip benchmarks with onnx issues temporarily)
echo "ðŸ§ª Running core test suite..."
npm run test:unit || exit 1
npm run test:integration || exit 1

# Security audit (only fail on high/critical vulnerabilities for now)
echo "ðŸ”’ Running security audit..."
npm audit --audit-level=high || exit 1

echo "âœ… Pre-push hooks completed successfully!"