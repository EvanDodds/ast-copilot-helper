#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Pre-push validation: comprehensive testing before sharing
echo "ğŸš€ Running pre-push validation (comprehensive checks)..."
echo "â±ï¸  This may take 2-3 minutes (use 'yarn run test:all' for full testing)"

# Build check (ensure everything compiles)
echo "ğŸ”§ Building project..."
yarn run build || exit 1

# Comprehensive fast tests (all non-performance tests)
echo "ğŸ§ª Running comprehensive fast tests (unit + integration)..."
yarn run test:prepush || exit 1

echo "âœ… Pre-push validation completed successfully!"
echo "ğŸ’¡ For full testing including all benchmarks: yarn run test:all"